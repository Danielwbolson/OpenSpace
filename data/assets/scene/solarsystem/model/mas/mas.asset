local assetHelper = asset.require("util/asset_helper")
local sunTransforms = asset.require('scene/solarsystem/sun/transforms')
asset.require("spice/base")

-- Volume module

local Mas = {  
        Identifier = "Mas",
        Parent = sunTransforms.SolarSystemBarycenter.Identifier,
        Renderable = {
            Type = "RenderableTimeVaryingVolume",
            -- Type = "RenderableKameleonVolume",
            Dimensions = {100, 100, 128},
            StepSize = 0.0001,
            TransferFunction = "${DATA}/mas/mas_transfer_function.tf",
            -- SourcePath = "${DATA}/mas/mas_merged_step_101.cdf",
            SourceDirectory = "${DATA}/mas/raw",
            LowerValueBound = 0.01,
            UpperValueBound = 2.0,
            MinValue = 0.001,
            MaxValue = 55000.0,
            GridType = "Spherical",
            SecondsBefore = 24*60*60,
            SecondsAfter = 24*60*60,
            Time = "2012-07-01T00:00:00.001",
            VisUnit = "amu/cm^3",
            -- VisUnit = "rho",
        },
        Transform = {
            Translation = {
                Type = "SpiceTranslation",
                Target = "SUN",
                Observer = "SUN"
            }
        },
        GUI = {
            Path = "/Solar System/Mas",
            Hidden = true
        }
}

assetHelper.registerSceneGraphNodesAndExport(asset, {Mas})
