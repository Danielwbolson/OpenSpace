local assetHelper = asset.require('util/asset_helper')
local transforms = asset.require('./transforms')
local marsTransforms = asset.require('scene/solarsystem/planets/mars/transforms')

local textures = asset.syncedResource({
    Name = "Mars Curiosity Textures",
    Type = "HttpSynchronization",
    Identifier = "marscuriosity_textures",
    Version = 1
})

local models = asset.syncedResource({
    Name = "Mars Curiosity Model Old",
    Type = "HttpSynchronization",
    Identifier = "marscuriosity_model",
    Version = 6
})




-- Curiosity Model --

local Curiosity = {
    Identifier = "Curiosity",
    Parent = transforms.landingSite.Identifier,
    Tag = {"planet_solarsystem", "planet_terrestrial"},
    GUI = {
        Path = "/Solar System/Planets/Mars/Curiosity"
    }
}

local CuriosityModel = {
    Identifier = "CuriosityModel",
    Parent = Curiosity.Identifier
    --GuiPath = "/Solar Syste/Planets/Mars/Curiosity"
}


-- Curiosity Model Instruments --
-- Test Model

--local renderTestMarsrover = {
--    Identifier = "renderTestMarsrover",
--    Parent = transforms.RoverLocation.Identifier,
--    Renderable = {
--        Type = "RenderableSphere",
--        Size = 300.0,
--        Segments = 100.0,
--        Texture = texturePath2
--    }
--}

local Body = {
    Identifier = "body",
    Parent = CuriosityModel.Identifier, --transforms.RoverLocation.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_BODY.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}

local Body_staticParts = {
    Identifier = "body_staticparts",
    Parent = Body.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_BODY_STATICPARTS.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}

local Wheels_static = {
    Identifier = "Wheels_static",
    Parent = Body.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_WHEELS_STATIC.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}


---- RA ----

-- RA AZ
local RA_Shoulder_AZ = {
    Identifier = "RA_Shoulder_AZ",
    Parent = transforms.RA_Shoulder_AZ_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_RA_SHOULDER_AZ.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}

---- RA EL
local RA_Shoulder_EL = {
    Identifier = "RA_Shoulder_EL",
    Parent = transforms.RA_Shoulder_EL_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_RA_SHOULDER_EL.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}

-- RA ELBOW
local RA_Elbow = {
    Identifier = "RA_Elbow",
    Parent = transforms.RA_Elbow_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
            Type = "MultiModelGeometry",
            GeometryFile = models .. "/MSL_RA_ELBOW.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}

-- RA WRIST
local RA_Wrist = {
    Identifier = "RA_Wrist",
    Parent = transforms.RA_Wrist_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_RA_WRIST_test.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}

-- RA TURRET
local RA_Turret = {
    Identifier = "RA_Turret",
    Parent = transforms.RA_Turret_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_RA_TURRET_test.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}


local RA_Mahli = {
    Identifier = "RA_Mahli",
    Parent = transforms.RA_Mahli_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_RA_TURRET.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}



-- MastCam--

local RSM_root = {
    Identifier = "RSM_root",
    Parent = transforms.RSM_ZERO_AZ_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_RSM_ROOT.obj"

        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}


local RSM_AZ = {
    Identifier = "RSM_AZ",
    Parent = transforms.RSM_AZ_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_RSM_AZ.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}


local RSM_EL = {
    Identifier = "RSM_EL",
    Parent = transforms.RSM_EL_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_RSM_EL.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}



---- HGA ----

local HGA_AZ = {
    Identifier = "HGA_AZ",
    Parent = transforms.HGA_AZ_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_HGA_AZ_0ANGLE.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}

local HGA_EL = {
    Identifier = "HGA_EL",
    Parent = transforms.HGA_EL_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_HGA_EL.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}

---- SAM & CHEMIN ----

local SAM_Cover_1 = {
    Identifier = "SAM_Cover_1",
    Parent = transforms.SAM_Cover_1_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_SAM_FIXED_COVER_1.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}

local SAM_Cover_2 = {
    Identifier = "SAM_Cover_2",
    Parent = transforms.SAM_Cover_2_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_SAM_FIXED_COVER_2.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}

local CHEMIN_Bottom = {
    Identifier = "CHEMIN_Bottom",
    Parent = transforms.CHEMIN_Location.Identifier,
    Renderable = {
        Type = "RenderableModel",
        Body = "MARS SCIENCE LABORATORY",
        Geometry = {
          Type = "MultiModelGeometry",
          GeometryFile = models .. "/MSL_CHEMIN.obj"
        },
        ColorTexture = textures .. "/MSLTextureTest.png",
        GUI = {
            Path = "/Solar System/Planets/Mars/Curiosity/Model"
        }
    }
}

local dataPath = asset.localResource("data")

local Submodules = {
    Identifier = "Submodules",
    Parent = "Mars",
    Renderable = {
        Type = "RoverTerrain",
        RoverLocationPath = dataPath .. "/path/rover_locations.shp",
        --//"/modelsEasy/" and "/texturesEasy/" contains data for site048 and drive1570 only, to load all models use path "/models/" and "/textures/"
        ModelPath = "F:/RoverTerrain-Models&Textures/modelsEasy/",    
        TexturePath = "F:/RoverTerrain-Models&Textures/texturesEasy/",
    },
    GuiPath = "/Solar System/Curiosity"
}


assetHelper.registerSceneGraphNodesAndExport(asset, { 
    --renderTestMarsrover,

    Curiosity,
    CuriosityModel, 
    Body,
    Body_staticParts,
    Wheels_static,
    RA_Shoulder_AZ,
    RA_Shoulder_EL,
    RA_Elbow,
    RA_Wrist,
    RA_Turret,
    RA_Mahli,
    RSM_root,
    RSM_AZ,
    RSM_EL,
    HGA_AZ,
    HGA_EL,
    
    SAM_Cover_1,
    SAM_Cover_2,
    CHEMIN_Bottom,
    Submodules

})