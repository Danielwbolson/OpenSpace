local assetHelper = asset.require('util/asset_helper')
local kernels = asset.require('./kernels')
local sunTransforms = asset.require('scene/solarsystem/sun/transforms')
local marsTransforms = asset.require('scene/solarsystem/planets/mars/transforms')



local CuriosityPosition = {
    Name = "CuriosityPosition",
    Parent = "MarsBarycenter",
    Transform = {
        Translation = {
            Type = "SpiceTranslation",
            Target = "MSL_ROVER",
            Observer = "MARS BARYCENTER",
            Kernels = kernels.CuriosityKernels
        },
        --Rotation = {
        --    Type = "SpiceRotation",
        --    SourceFrame = "MSL_ROVER",
        --    DestinationFrame = "MARS BARYCENTER"
        --}
        Scale = {
             Type = "StaticScale",
             Scale = 10.0
        }
    },
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}

local RoverLocation = {
    Name = "RoverLocation",
    Parent = "CuriosityPosition",
    --Transform = {
    --    Translation = {
    --        Type = "SpiceTranslation",
    --        Target = "MARS SCIENCE LABORATORY",
    --        Observer = "MSL_ROVER",
    --        Kernels = kernels.CuriosityKernels
    --    }
    --},
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}


---- ROBOTIC ARM RA ----

local RA_Base_Location = {
    Name = "RA_Base_Location",
    Parent = RoverLocation.Name,
    Transform = {   
        Translation = {
            Type = "StaticTranslation",
            Position = { 1.111, -0.4525, -0.106 }
        }
    },
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}

--AZ
local RA_Shoulder_AZ_Location = {
    Name = "RA_Shoulder_AZ_Location",
    Parent = RA_Base_Location.Name,
    Transform = {   
        Rotation = {
            Type = "SpiceRotation",
            SourceFrame = "MSL_RA_BASE",
            DestinationFrame = "MSL_RA_SHOULDER_AZ",
            Kernels = kernels.CuriosityKernels
        }
    },
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}

--EL
local RA_Shoulder_EL_Location = {
    Name = "RA_Shoulder_EL_Location",
    Parent = RA_Shoulder_AZ_Location.Name,
    Transform = {
        Rotation = {
            Type = "SpiceRotation",
            SourceFrame = "MSL_RA_SHOULDER_AZ",
            DestinationFrame = "MSL_RA_SHOULDER_EL",
            Kernels = kernels.CuriosityKernels
        },
        Translation = {
            Type = "StaticTranslation",
            Position = {0.15, 0.2, 0.0}
        }
    }
}

--ELBOW
local RA_Elbow_Location = {
    Name = "RA_Elbow_Location",
    Parent = RA_Shoulder_EL_Location.Name,
    Transform = {
        Rotation = {
            Type = "SpiceRotation",
            SourceFrame = "MSL_RA_SHOULDER_EL",
            DestinationFrame = "MSL_RA_ELBOW",
            Kernels = kernels.CuriosityKernels
        },
        Translation = {
            Type = "StaticTranslation",
            Position = {0.83, -0.2, 0.0 }
        }
    },
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}

--WRIST
local RA_Wrist_Location = {
    Name = "RA_Wrist_Location",
    Parent = RA_Elbow_Location.Name,
    Transform = {
        Rotation = {
            Type = "SpiceRotation",
            SourceFrame = "MSL_RA_ELBOW",
            DestinationFrame = "MSL_RA_WRIST",
            Kernels = kernels.CuriosityKernels
        },
        Translation = {
            Type = "StaticTranslation",
            Position = {0.77, 0.13, 0.035}

        }
    },
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}



--local RA_Wrist_Location = {
--    Name = "RA_Wrist_Location",
--    Parent = RA_Elbow_Location.Name,
--    Transform = {
--        --Rotation = {
--        --    Type = "SpiceRotation",
--        --    SourceFrame = "RA_Elbow_Location",
--        --    DestinationFrame = "MSL_ROVER",
--        --    Kernels = kernels.CuriosityKernels
--        --},
--        --Translation = {
--        --    Type = "StaticTranslation",
--        --    Position = {-0.18, 0.7, 0}
--        --}
--    },
--    GuiPath = "/Solar System/Planets/Mars/Curiosity "
--}



--TURRET
local RA_Turret_Location = {
    Name = "RA_Turret_Location",
    Parent = RA_Wrist_Location.Name,
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}

--MAHLI
local RA_Mahli_Location = {
    Name = "RA_Mahli_Location",
    Parent = RA_Wrist_Location.Name,
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}


---- MASTCAM RSM ----

local RSM_ZERO_AZ_Location = {
    Name = "RSM_ZERO_AZ_Location",
    Parent = RoverLocation.Name,
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}

local RSM_AZ_Location = {
    Name = "RSM_AZ_Location",
    Parent = RSM_ZERO_AZ_Location.Name,
    Transform = {
        Translation = {
            Type = "StaticTranslation",
            Position = {0.728, 0.573, -0.586}
        },
        Rotation = {
            Type = "SpiceRotation",
            SourceFrame = "MSL_RSM_ZERO_AZ",
            DestinationFrame = "MSL_RSM_AZ",
            Kernels = kernels.CuriosityKernels
        }
    },
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}

local RSM_ZERO_EL_Location = {
    Name = "RSM_ZERO_EL_Location",
    Parent = RSM_AZ_Location.Name,
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}

local RSM_EL_Location = {
    Name = "RSM_EL_Location",
    Parent = RSM_ZERO_EL_Location.Name,
    Transform = {
        Translation = {
            Type = "StaticTranslation",
            Position = {-0.03, -0.02, 0.51}
        },
        Rotation = {
            Type = "SpiceRotation",
            SourceFrame = "MSL_RSM_ZERO_EL",
            DestinationFrame = "MSL_RSM_EL",
            Kernels = kernels.CuriosityKernels
        }
    },
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}

local RSM_HEAD_Location = {
    Name = "RSM_HEAD_Location",
    Parent = RSM_EL_Location.Name,
    Transform = {
        Translation = {
            Type = "StaticTranslation",
            Position = {-0.08, 0.0, 0.35}
        }
    },
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}






---- HIGH GAIN ANTENNA HGA ----

local HGA_AZ_Location = {
    Name = "HGA_AZ_Location",
    Parent = RoverLocation.Name,
    Transform = {   
        Rotation = {
            Type = "SpiceRotation",
            SourceFrame = "MSL_ROVER",
            DestinationFrame = "MSL_HGA_AZ",
            Kernels = kernels.CuriosityKernels
        },
        Translation = {
            Type = "StaticTranslation",
            Position = {-0.46, -0.47, -0.55}
        }
    },
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}

local HGA_EL_Location = {
    Name = "HGA_EL_Location",
    Parent = HGA_AZ_Location.Name,
    Transform = {   
        Rotation = {
            Type = "SpiceRotation",
            SourceFrame = "MSL_HGA_AZ",
            DestinationFrame = "MSL_HGA_EL",
            Kernels = kernels.CuriosityKernels
        },
        Translation = {
            Type = "StaticTranslation",
            Position = {0.0, 0.0, -0.17}
        }
    },
    GuiPath = "/Solar System/Planets/Mars/Curiosity "
}

---- SAM ----

---- CHEMIN ----

assetHelper.registerSceneGraphNodesAndExport(asset, { 
    CuriosityPosition,
    RoverLocation,
    RA_Base_Location,
    RA_Shoulder_AZ_Location,
    RA_Shoulder_EL_Location,
    RA_Elbow_Location,
    RA_Wrist_Location,
    RA_Turret_Location,
    RA_Mahli_Location,

    RSM_ZERO_AZ_Location,
    RSM_AZ_Location,
    RSM_ZERO_EL_Location,
    RSM_EL_Location,
    RSM_HEAD_Location,
    HGA_AZ_Location,
    HGA_EL_Location
})


