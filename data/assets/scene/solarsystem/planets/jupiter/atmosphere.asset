local transforms = asset.require('./jupiter')
local assetHelper = asset.require('util/asset_helper')


local jupiterEllipsoid = { 71492000.0, 71492000.0, 71492000.0 }
local Atmosphere = {
    Identifier = "JupiterAtmosphere",
    Parent = transforms.Jupiter.Identifier,
    Renderable = {
        Type = "RenderableAtmosphere",
        Atmosphere = {
            -- Atmosphere radius in Km
            AtmosphereRadius = 72492.0,
            PlanetRadius    = 71492.0,
            PlanetAverageGroundReflectance = 0.1,
            GroundRadianceEmittion = 0.6,
            SunIntensity = 6.9,
            Rayleigh = {
              Coefficients = {
                -- Wavelengths are given in 10^-9m
                Wavelengths = { 680, 550, 440 },
                -- Reflection coefficients are given in km^-1
                Scattering = { 0.00065, 0.0012, 0.0025 },
                -- In Rayleigh scattering, the coefficients of absorption and scattering are the same.
              },
              -- Thichkness of atmosphere if its density were uniform, in Km
              H_R = 27.0
            },
            Mie = {
               Coefficients = {
                 -- Reflection coefficients are given in km^-1
                 Scattering = { 0.02, 0.02, 0.02 },
                 -- Extinction coefficients are a fraction of the Mie coefficients
                 Extinction = { 0.02/0.9, 0.02/0.9, 0.02/0.9 }
               },
               -- Height scale (atmosphere thickness for constant density) in Km
               H_M = 27.0,
               -- Mie Phase Function Value (G e [-1.0, 1.0]. If G = 1.0, Mie phase function = Rayleigh Phase Function)
               G = -0.1
            },
            Debug = {
               PreCalculatedTextureScale = 1.0,
               SaveCalculatedTextures = false
            }
        },
        -- ShadowGroup = {
        --     Source1 = {
        --         Name = "Sun",
        --         -- All radius in meters
        --         Radius = 696.3E6
        --     },
        --     --Source2 = { Name = "Monolith", Radius = 0.01E6, },
        --     Caster1 = { 
        --         Name = "Moon",
        --         -- All radius in meters
        --         Radius = 1.737E6
        --     }
        --     --Caster2 = { Name = "Independency Day Ship", Radius = 0.0, }
        --  }
    },
    GUI = {
        Name = "Jupiter Atmosphere",
        Path = "/Solar System/Planets/Jupiter"
    }
}



assetHelper.registerSceneGraphNodesAndExport(asset, { Atmosphere })
